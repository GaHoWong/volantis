/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /gh/inkss/inkss.github.io@null/js/search.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var AlgoliaSearch,AzureSearch,BaiduSearch,SearchService="";!function(e){SearchService=function(a){var o=this;o.config=e.extend({per_page:10,selectors:{body:"body",form:".u-search-form",input:".u-search-input",container:"#u-search",modal:"#u-search .modal",modal_body:"#u-search .modal-body",modal_footer:"#u-search .modal-footer",modal_overlay:"#u-search .modal-overlay",modal_results:"#u-search .modal-results",modal_metadata:"#u-search .modal-metadata",modal_error:"#u-search .modal-error",modal_loading_bar:"#u-search .modal-loading-bar",modal_ajax_content:"#u-search .modal-ajax-content",modal_logo:"#u-search .modal-footer .logo",btn_close:"#u-search .btn-close",btn_next:"#u-search .btn-next",btn_prev:"#u-search .btn-prev"},brands:{hexo:{logo:"",url:""},google:{logo:"google.svg",url:"https://cse.google.com"},algolia:{logo:"algolia.svg",url:"https://www.algolia.com"},baidu:{logo:"baidu.svg",url:"http://zn.baidu.com/cse/home/index"},azure:{logo:"azure.svg",url:"https://azure.microsoft.com/en-us/services/search/"}},imagePath:ROOT+"img/"},a),o.dom={},o.percentLoaded=0,o.open=!1,o.queryText="",o.nav={next:-1,prev:-1,total:0,current:1},o.parseSelectors=function(){for(var t in o.config.selectors)o.dom[t]=e(o.config.selectors[t])},o.beforeQuery=function(){o.open||o.dom.container.fadeIn(),o.dom.input.each(function(t,a){e(a).val(o.queryText)}),document.activeElement.blur(),o.dom.modal_error.hide(),o.dom.modal_ajax_content.removeClass("loaded"),o.startLoading()},o.afterQuery=function(){o.dom.modal_body.scrollTop(0),o.dom.modal_ajax_content.addClass("loaded"),o.stopLoading()},o.search=function(e,t){o.beforeQuery(),o.search instanceof Function?o.query(o.queryText,e,function(){o.afterQuery()}):(console.log("query() does not exist."),o.onQueryError(o.queryText,""),o.afterQuery())},o.onQueryError=function(e,t){var a="";a="success"===t?'No result found for "'+e+'".':"timeout"===t?"Unfortunate timeout.":"Mysterious failure.",o.dom.modal_results.html(""),o.dom.modal_error.html(a),o.dom.modal_error.show()},o.nextPage=function(){-1!==o.nav.next&&o.search(o.nav.next)},o.prevPage=function(){-1!==o.nav.prev&&o.search(o.nav.prev)},o.getUrlRelativePath=function(e){var t=e.split("//"),a=t[1].indexOf("/"),o=t[1].substring(a);return-1!=o.indexOf("?")&&(o=o.split("?")[0]),o},o.buildResult=function(e,t,a){var n="";return n="<li>",n+="<a class='result search-result-fix' value='"+o.getUrlRelativePath(e)+"'>",n+="<span class='title'>"+t+"</span>",""!==a&&(n+="<span class='digest'>"+a+"</span>"),n+="</a>",n+="</li>"},o.close=function(){o.open=!1,o.dom.container.fadeOut(),o.dom.body.removeClass("modal-active")},o.onSubmit=function(t){t.preventDefault(),o.queryText=e(this).find(".u-search-input").val(),o.queryText&&o.search(1)},o.startLoading=function(){o.dom.modal_loading_bar.show(),o.loadingTimer=setInterval(function(){o.percentLoaded=Math.min(o.percentLoaded+5,95),o.dom.modal_loading_bar.css("width",o.percentLoaded+"%")},100)},o.stopLoading=function(){clearInterval(o.loadingTimer),o.dom.modal_loading_bar.css("width","100%"),o.dom.modal_loading_bar.fadeOut(),setTimeout(function(){o.percentLoaded=0,o.dom.modal_loading_bar.css("width","0%")},300)},o.addLogo=function(e){var t="";o.config.brands[e]&&o.config.brands[e].logo&&(t+="<a href='"+o.config.brands[e].url+"' class='"+e+"'>",t+='<img src="'+o.config.imagePath+o.config.brands[e].logo+'" />',t+="</a>",o.dom.modal_logo.html(t))},o.destroy=function(){o.dom.form.each(function(t,a){e(a).off("submit")}),o.dom.modal_overlay.off("click"),o.dom.btn_close.off("click"),o.dom.btn_next.off("click"),o.dom.btn_prev.off("click"),o.dom.container.remove()},o.init=function(){e("body").append(t),o.parseSelectors(),o.dom.modal_footer.show(),o.dom.form.each(function(t,a){e(a).on("submit",o.onSubmit)}),o.dom.modal_overlay.on("click",o.close),o.dom.btn_close.on("click",o.close),o.dom.btn_next.on("click",o.nextPage),o.dom.btn_prev.on("click",o.prevPage)},o.init()};var t='<div id="u-search"><div class="modal"> <header class="modal-header" class="clearfix"><form id="u-search-modal-form" class="u-search-form" name="uSearchModalForm"> <input type="text" id="u-search-modal-input" class="u-search-input" /> <button type="submit" id="u-search-modal-btn-submit" class="u-search-btn-submit"> <span class="fad fa-search"></span> </button></form> <a class="btn-close"> <span class="fad fa-times"></span> </a><div class="modal-loading"><div class="modal-loading-bar"></div></div> </header> <main class="modal-body"><ul class="modal-results modal-ajax-content"></ul> </main> <footer class="modal-footer clearfix"><div class="modal-metadata modal-ajax-content"> <strong class="range"></strong> of <strong class="total"></strong></div><div class="modal-error"></div> <div class="logo"></div> <a class="nav btn-next modal-ajax-content"> <span class="text">NEXT</span> <span class="fal fa-chevron-right"></span> </a> <a class="nav btn-prev modal-ajax-content"> <span class="fal fa-chevron-left"></span> <span class="text">PREV</span> </a> </footer></div><div class="modal-overlay"></div></div>'}(jQuery),function(e){"use strict";AlgoliaSearch=function(t){SearchService.apply(this,arguments);var a=this,o="https://"+a.config.appId+"-dsn.algolia.net/1/indexes/"+a.config.indexName;return a.addLogo("algolia"),a.buildResultList=function(t){var o="";return e.each(t,function(e,t){var n=t.permalink||t.path||"";!t.permalink&&t.path&&(n=ROOT+n);var r=t.title;o+=a.buildResult(n,r,"",e+1)}),o+="<script>$('.result.search-result-fix').click(function(event){var url = this.getAttribute('value');try{pjax.loadUrl(url)}catch(e){$(location).attr('href', url)}setTimeout(function(){$('#u-search').fadeOut(500);$('body').removeClass('modal-active');}, 300);});<\/script>"},a.buildMetadata=function(e){a.nav.current=e.page*e.hitsPerPage+1,a.nav.currentCount=e.hits.length,a.nav.total=parseInt(e.nbHits),a.dom.modal_metadata.children(".total").html(a.nav.total),a.dom.modal_metadata.children(".range").html(a.nav.current+"-"+(a.nav.current+a.nav.currentCount-1)),a.nav.total>0?a.dom.modal_metadata.show():a.dom.modal_metadata.hide(),e.page<e.nbPages-1?(a.nav.next=e.page+1+1,a.dom.btn_next.show()):(a.nav.next=-1,a.dom.btn_next.hide()),e.page>0?(a.nav.prev=e.page+1-1,a.dom.btn_prev.show()):(a.nav.prev=-1,a.dom.btn_prev.hide())},a.query=function(t,n,r){e.get(o,{query:t,page:n-1,hitsPerPage:a.config.per_page,"x-algolia-application-id":a.config.appId,"x-algolia-api-key":a.config.apiKey},function(e,o){if("success"===o&&e.hits&&e.hits.length>0){var n=a.buildResultList(e.hits);a.dom.modal_results.html(n)}else a.onQueryError(t,o);a.buildMetadata(e),r&&r(e)})},a}}(jQuery),function(e){"use strict";AzureSearch=function(t){SearchService.apply(this,arguments);var a=this,o="https://"+a.config.serviceName+".search.windows.net/indexes/"+a.config.indexName+"/docs?api-version=2015-02-28";return a.nav.current=1,a.addLogo("azure"),a.buildResultList=function(t){var o="";return e.each(t,function(e,t){var n=t.permalink||t.path||"";!t.permalink&&t.path&&(n="/"+n);var r=t.title,i=t.excerpt||"";o+=a.buildResult(n,r,i)}),o+="<script>$('.result.search-result-fix').click(function(event){var url = this.getAttribute('value');try{pjax.loadUrl(url)}catch(e){$(location).attr('href', url)}setTimeout(function(){$('#u-search').fadeOut(500);$('body').removeClass('modal-active');}, 300);});<\/script>"},a.buildMetadata=function(e,t){a.nav.current=t,a.nav.currentCount=e.value.length,a.nav.total=parseInt(e["@odata.count"]),a.dom.modal_metadata.children(".total").html(a.nav.total),a.dom.modal_metadata.children(".range").html(a.nav.current+"-"+(a.nav.current+a.nav.currentCount-1)),a.nav.total>0?a.dom.modal_metadata.show():a.dom.modal_metadata.hide(),a.nav.current+a.nav.currentCount<=a.nav.total?(a.nav.next=a.nav.current+a.nav.currentCount,a.dom.btn_next.show()):(a.nav.next=-1,a.dom.btn_next.hide()),a.nav.current>1?(a.nav.prev=a.nav.current-a.config.per_page,a.dom.btn_prev.show()):(a.nav.prev=-1,a.dom.btn_prev.hide())},a.query=function(t,n,r){e.ajax({url:o,headers:{Accept:"application/json","api-key":a.config.queryKey},data:{search:t,$orderby:"date desc",$skip:n-1,$top:a.config.per_page,$count:!0},type:"GET",success:function(e,o){if("success"===o&&e.value&&e.value.length>0){var i=a.buildResultList(e.value);a.dom.modal_results.html(i)}else a.onQueryError(t,o);a.buildMetadata(e,n),r&&r(e)}})},a}}(jQuery),function(e){"use strict";BaiduSearch=function(t){SearchService.apply(this,arguments);var a=this;return a.addLogo("baidu"),a.buildResultList=function(t,o){var n="";return e.each(t,function(e,t){a.contentSearch(t,o)&&(n+=a.buildResult(t.linkUrl,t.title,t.abstract))}),n+="<script>$('.result.search-result-fix').click(function(event){var url = this.getAttribute('value');try{pjax.loadUrl(url)}catch(e){$(location).attr('href', url)}setTimeout(function(){$('#u-search').fadeOut(500);$('body').removeClass('modal-active');}, 300);});<\/script>"},a.buildMetadata=function(e){},a.loadScript=function(){a.dom.input.each(function(t,a){e(a).attr("disabled",!0)});var t="<script src='http://zhannei.baidu.com/api/customsearch/apiaccept?sid="+a.config.apiId+"&v=2.0&callback=customSearch.initBaidu' type='text/javascript' charset='utf-8'><\/script>";a.dom.body.append(t)},a.initBaidu=function(){a.cse=new BCse.Search(a.config.apiId),a.dom.input.each(function(t,a){e(a).attr("disabled",!1)})},a.query=function(e,t,o){a.cse.getResult(e,function(t){console.log("Searching: "+e),a.cse.getError(function(e){console.log(e)}),t.length>0?(a.buildResultList(t,e),a.cse.getSearchInfo(e,function(e){console.log(e),a.buildMetadata(e)})):(a.nav.total=0,a.nav.next=-1,a.nav.prev=-1,a.dom.modal_metadata.hide(),a.dom.btn_next.hide(),a.dom.btn_prev.hide(),a.onQueryError(e,"success")),o instanceof Function&&o()})},a.loadScript(),a}}(jQuery);var HexoSearch,GoogleCustomSearch="";!function(e){"use strict";GoogleCustomSearch=function(t){SearchService.apply(this,arguments);var a=this;return a.addLogo("google"),a.buildResultList=function(t){var o="";return e.each(t,function(e,t){var n=t.link,r=t.title,i=(t.htmlSnippet||"").replace("<br>","");o+=a.buildResult(n,r,i)}),o+="<script>$('.result.search-result-fix').click(function(event){var url = this.getAttribute('value');try{pjax.loadUrl(url)}catch(e){$(location).attr('href', url)}setTimeout(function(){$('#u-search').fadeOut(500);$('body').removeClass('modal-active');}, 300);});<\/script>"},a.buildMetadata=function(e){e.queries&&e.queries.request&&"0"!==e.queries.request[0].totalResults?(a.nav.current=e.queries.request[0].startIndex,a.nav.currentCount=e.queries.request[0].count,a.nav.total=parseInt(e.queries.request[0].totalResults),a.dom.modal_metadata.children(".total").html(a.nav.total),a.dom.modal_metadata.children(".range").html(a.nav.current+"-"+(a.nav.current+a.nav.currentCount-1)),a.dom.modal_metadata.show()):a.dom.modal_metadata.hide(),e.queries&&e.queries.nextPage?(a.nav.next=e.queries.nextPage[0].startIndex,a.dom.btn_next.show()):(a.nav.next=-1,a.dom.btn_next.hide()),e.queries&&e.queries.previousPage?(a.nav.prev=e.queries.previousPage[0].startIndex,a.dom.btn_prev.show()):(a.nav.prev=-1,a.dom.btn_prev.hide())},a.query=function(t,o,n){e.get("https://www.googleapis.com/customsearch/v1",{key:a.config.apiKey,cx:a.config.engineId,q:t,start:o,num:a.config.per_page},function(e,o){if("success"===o&&e.items&&e.items.length>0){var r=a.buildResultList(e.items);a.dom.modal_results.html(r)}else a.onQueryError(t,o);a.buildMetadata(e),n&&n()})},a}}(jQuery),function(e){"use strict";HexoSearch=function(t){SearchService.apply(this,arguments);var a=this;return a.config.endpoint=ROOT+((t||{}).endpoint||"content.json"),a.config.endpoint=a.config.endpoint.replace("//","/"),a.cache="",a.contentSearch=function(t,a){var o=t.title.trim().toLowerCase(),n=t.text.trim().toLowerCase(),r=a.trim().toLowerCase().split(" "),i=!1,s=-1,c=-1,l=-1;return""!==o&&""!==n&&e.each(r,function(e,a){if(s=o.indexOf(a),c=n.indexOf(a),s<0&&c<0?i=!1:(i=!0,c<0&&(c=0),0===e&&(l=c)),i){n=t.text.trim();var u=0,d=0;if(l>=0){d=0===(u=Math.max(l-40,0))?Math.min(200,n.length):Math.min(l+120,n.length);var m=n.substring(u,d);r.forEach(function(e){var t=new RegExp(e,"gi");m=m.replace(t,"<b mark>"+e+"</b>")}),t.digest=m+"......"}else d=Math.min(200,n.length),t.digest=n.trim().substring(0,d)}}),i},a.buildResultList=function(t,o){var n="";return e.each(t,function(e,t){a.contentSearch(t,o)&&(n+=a.buildResult(t.permalink,t.title,t.digest))}),n+="<script>$('.result.search-result-fix').click(function(event){var url = this.getAttribute('value');try{pjax.loadUrl(url)}catch(e){$(location).attr('href', url)}setTimeout(function(){$('#u-search').fadeOut(500);$('body').removeClass('modal-active');}, 300);});<\/script>"},a.buildMetadata=function(e){a.dom.modal_footer.hide()},a.query=function(t,o,n){if(a.cache){var r="";r+=a.buildResultList(a.cache.pages,t),r+=a.buildResultList(a.cache.posts,t),a.dom.modal_results.html(r),a.buildMetadata(a.cache),n&&n(a.cache)}else e.get(a.config.endpoint,{key:a.config.apiKey,cx:a.config.engineId,q:t,start:o,num:a.config.per_page},function(e,o){if("success"!==o||!e||!e.posts&&!e.pages||e.posts.length<1&&e.pages.length<1)a.onQueryError(t,o);else{a.cache=e;var r="";r+=a.buildResultList(e.pages,t),r+=a.buildResultList(e.posts,t),a.dom.modal_results.html(r)}a.buildMetadata(e),n&&n(e)})},a}}(jQuery);
//# sourceMappingURL=/sm/af91d0bc480546450f27c80cb2e8c0a56bf01bab98dfd6b85d40356ae11ce480.map